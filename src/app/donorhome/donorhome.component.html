<app-menu></app-menu>
<section>
    <div class="container">
        <div class="row">
           
            <h1>Welcome Donor !</h1>
            <select [(ngModel)]="group" (change)="search()" class="form-control">
                <option value=''>-Choose Blood Group-</option>
               <option>A+</option>
               <option>A-</option>
               <option>B+</option>
               <option>B-</option>
               <option>AB+</option>
               <option>AB-</option>
               <option>O+</option>
               <option>O-</option>
            </select>

            <button class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal" 
            (click)="select($event)">Send All</button>
            <hr>

            <table class="table">
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Blood Group</th>
                    <th>Send Request</th>
                </tr>

                <tr *ngFor="let ob of others">
                    <td>{{ob.name}}</td>
                    <td>{{ob.email}}</td>
                    <td>{{ob.phone}}</td>
                    <td>{{ob.group}}</td>
                    <td>
                        <button class="btn btn-info btn-lg" data-toggle="modal"
                    [attr.data-user]="ob.email"    
                    data-target="#myModal" (click)="select($event)" >Send</button>
                </td>
                </tr>
            </table>
        </div>
    </div>
</section>


<!-- Modal -->
<div id="myModal"  class="modal fade" role="dialog">
    <div class="modal-dialog">
  
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Blood Request</h4>
        </div>
        <div class="modal-body">
          
            <form #sfrm="ngForm" (ngSubmit)="send(sfrm.value)">
                <input type="text" ngModel name="loc" placeholder="Location" class='form-control'><br>
                <input type="text" ngModel name="person" placeholder="Person Name" class='form-control'><br>
                <input type="text" ngModel name="phone" placeholder="Phone" class='form-control'><br>
                <select ngModel name='group' class="form-control">
                    <option value=''>Choose Group</option>
                    <option>A+</option>
                    <option>A-</option>
                    <option>B+</option>
                    <option>B-</option>
                    <option>O+</option>
                    <option>O-</option>
                    <option>AB+</option>
                    <option>AB-</option>
               </select><br>
               <button type="submit" class="btn btn-danger">Send</button>
               &nbsp;
               <b class="text-danger">{{msgstatus}}</b>
            </form>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default"
           data-dismiss="modal">Close</button>
        </div>
      </div>
  
    </div>
  </div>